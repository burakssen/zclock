const std = @import("std");

const ClockAngles = struct { hour: f32, minute: f32 };

pub const PatternChar = enum {
    top_left,
    top_right,
    bottom_left,
    bottom_right,
    vertical,
    horizontal,
    empty,

    pub fn fromUtf8(char: u16) PatternChar {
        switch (char) {
            '⎡' => return .top_left,
            '⎤' => return .top_right,
            '⎣' => return .bottom_left,
            '⎦' => return .bottom_right,
            '│' => return .vertical,
            '─' => return .horizontal,
            else => return .empty,
        }
    }

    pub fn getAngles(self: PatternChar) ClockAngles {
        return switch (self) {
            .top_left => .{ .hour = 90, .minute = 180 },
            .top_right => .{ .hour = 270, .minute = 180 },
            .bottom_left => .{ .hour = 0, .minute = 90 },
            .bottom_right => .{ .hour = 270, .minute = 0 },
            .vertical => .{ .hour = 0, .minute = 180 },
            .horizontal => .{ .hour = 90, .minute = 270 },
            .empty => .{ .hour = 225, .minute = 225 },
        };
    }
};

pub const DIGIT_PATTERNS = [10][24]u16{
    // 0
    .{ '⎡', '─', '─', '⎤', '│', '⎡', '⎤', '│', '│', '│', '│', '│', '│', '│', '│', '│', '│', '⎣', '⎦', '│', '⎣', '─', '─', '⎦' },
    // 1
    .{ '⎡', '─', '⎤', ' ', '⎣', '⎤', '│', ' ', ' ', '│', '│', ' ', ' ', '│', '│', ' ', '⎡', '⎦', '⎣', '⎤', '⎣', '─', '─', '⎦' },
    // 2
    .{ '⎡', '─', '─', '⎤', '⎣', '─', '⎤', '│', '⎡', '─', '⎦', '│', '│', '⎡', '─', '⎦', '│', '⎣', '─', '⎤', '⎣', '─', '─', '⎦' },
    // 3
    .{ '⎡', '─', '─', '⎤', '⎣', '─', '⎤', '│', ' ', '⎡', '⎦', '│', ' ', '⎣', '⎤', '│', '⎡', '─', '⎦', '│', '⎣', '─', '─', '⎦' },
    // 4
    .{ '⎡', '⎤', '⎡', '⎤', '│', '│', '│', '│', '│', '⎣', '⎦', '│', '⎣', '─', '⎤', '│', ' ', ' ', '│', '│', ' ', ' ', '⎣', '⎦' },
    // 5
    .{ '⎡', '─', '─', '⎤', '│', '⎡', '─', '⎦', '│', '⎣', '─', '⎤', '⎣', '─', '⎤', '│', '⎡', '─', '⎦', '│', '⎣', '─', '─', '⎦' },
    // 6
    .{ '⎡', '─', '─', '⎤', '│', '⎡', '─', '⎦', '│', '⎣', '─', '⎤', '│', '⎡', '⎤', '│', '│', '⎣', '⎦', '│', '⎣', '─', '─', '⎦' },
    // 7
    .{ '⎡', '─', '─', '⎤', '⎣', '─', '⎤', '│', ' ', ' ', '│', '│', ' ', ' ', '│', '│', ' ', ' ', '│', '│', ' ', ' ', '⎣', '⎦' },
    // 8
    .{ '⎡', '─', '─', '⎤', '│', '⎡', '⎤', '│', '│', '⎣', '⎦', '│', '│', '⎡', '⎤', '│', '│', '⎣', '⎦', '│', '⎣', '─', '─', '⎦' },
    // 9
    .{ '⎡', '─', '─', '⎤', '│', '⎡', '⎤', '│', '│', '⎣', '⎦', '│', '⎣', '─', '⎤', '│', '⎡', '─', '⎦', '│', '⎣', '─', '─', '⎦' },
};
